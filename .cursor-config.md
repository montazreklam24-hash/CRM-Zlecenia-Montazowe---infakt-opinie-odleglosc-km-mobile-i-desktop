# Konfiguracja CRM - Montaż Reklam 24

## Porty i adresy

### Development (Vite)
- **Port**: `3000` (stały, strictPort włączony - jeśli zajęty, Vite wyrzuci błąd)
- **Localhost**: `http://localhost:3000`
- **LAN**: Sprawdź w logach Vite linię `Network: http://<IP>:3000/` lub użyj `ipconfig` (Windows) / `ifconfig` (Linux/Mac)

### Produkcja (Apache/PHP)
- **Port produkcyjny**: `8080` (lub inny, zależny od konfiguracji serwera)
- **Backend API**: `/api` (proxy w dev, bezpośredni w prod)

## WAŻNE - Workflow testowania:

### 1. Testy lokalne (dev)
- Uruchom: `npm run dev`
- Otwórz: `http://localhost:3000`
- Vite NIE przeskoczy na inny port (strictPort: true)
- **Jeśli port 3000 zajęty**: Znajdź proces (`netstat -ano | findstr :3000` na Windows) i ubij go (`taskkill /PID <numer> /F`)

### 2. Testy LAN (dev, inne urządzenie)
- Uruchom: `npm run dev`
- W logach Vite znajdź linię: `Network: http://<TWOJE-IP>:3000/`
- Użyj tego adresu na telefonie/tablecie w tej samej sieci
- LAN IP bierzemy z outputu Vite (linie ‘Network: …’) albo z `ipconfig` na Windows.
- NIE hardcoduj IP - może się zmieniać (DHCP).

### 3. Testy produkcyjne (po buildzie)
- **Zawsze przed testem**: `npm run build:fast` (lub `npm run build` z backupem)
- Testuj na serwerze produkcyjnym (Apache/PHP na porcie 8080 lub innym)
- **Hard refresh**: `Ctrl+F5` po każdej zmianie

## Struktura projektu
- Frontend: `src/` → build do `dist/`
- Backend: `api/` → kopiowany do `dist/api/`
- Testowanie dev: `localhost:3000` (Vite)
- Testowanie prod: Po buildzie na serwerze Apache/PHP

## Reguły dla agenta/terminala
- **Przed każdym `npm` sprawdź `cwd`**: Upewnij się, że jesteś w folderze z `package.json`
- Terminal powinien startować w `${workspaceFolder}` (ustawienie w `.vscode/settings.json`)
- Jeśli terminal jest w `C:\Users\...` zamiast projektu - użyj `cd` do workspace root
